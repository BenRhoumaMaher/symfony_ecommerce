{% extends 'base.html.twig' %}

{% block title %}Hello CartController!{% endblock %}

{% block body %}
<div class="container">
<h1>{{ 'Cart'|trans }}</h1>
<table class="table table-bordered">
<tr>
<th>{{ 'Product name'|trans }}</th>
<th>{{ 'price'|trans }}</th>
<th>{{ 'quantity'|trans }}</th>
<th>{{ 'total price'|trans }}</th>
<th>{{ 'action'|trans }}</th>
</tr>
{% for item in items %}
    <tr>
    <td>{{item.product.name}}</td>
    <td>{{item.product.price}}</td>
    <td>{{item.quantity}}</td>
    <td>{{item.product.price * item.quantity}}</td>
    <td>
    <a href="{{path('app_cart_product_remove',{'id':item.product.id})}}" 
    class="text-danger text-decoration-none">{{ 'Delete to cart'|trans }}</a>
    </td>
    </tr>
    {% else %}
    <p>{{ 'your cart is empty'|trans }}</p>
{% endfor %}
</table>
{% if total > 0 %}
<br><br>
<h2>Total: {{total}} Dt</h2>
<div class="row">
<a data-turbo="false" href="{{path('app_order')}}" class="btn btn-primary col-2 m-lg-1">{{ 'Validate the order'|trans }}</a>
<a href="{{path('app_cart_remove')}}" class="btn btn-outline-danger col-2 m-lg-1">{{ 'Delete cart'|trans }}</a>
</div>
{% endif %}
</div>
{% endblock %}
